# $name;format="normalize"$

## Development

```
# run
sbt app/run
sbt "cli/run -p MyName --game Rock -a 2"

# hot reload
sbt ~reStart

# run tests
sbt test

# run tests, verify coverage, generate report and aggregate results
sbt clean coverage test coverageReport coverageAggregate
# view coverage report in browser (mac|linux)
open ./target/scala-2.12/scoverage-report/index.html
xdg-open ./target/scala-2.12/scoverage-report/index.html

# format code
sbt scalafmt

# check autogenerated header
sbt headerCheck
# update header manually
sbt headerCreate

# check style
sbt scalastyle

# show project dependencies
sbt dependencyTree
# verify dependencies
sbt "whatDependsOn ch.qos.logback logback-classic 1.2.3"

# show outdated dependencies
sbt dependencyUpdates

# generate, package and aggregate scaladoc
sbt makeSite packageSite
# view scaladoc in browser (mac|linux)
open ./target/scala-2.12/unidoc/index.html
xdg-open ./target/scala-2.12/unidoc/index.html
```

## Packaging

Docker
```
# generate Dockerfile in target/docker/
sbt docker:stage

# build image
sbt docker:publishLocal

# start temporary container
docker run \
  --rm \
  -e HTTP_PORT="8080" \
  -p 80:8080 \
  --name $name;format="normalize"$ \
  $name;format="normalize"$:latest

# start container in background
docker-compose up -d
# container logs
tail -F /vol/log/$name;format="normalize"$/$name;format="normalize"$.log

# healthcheck
http :80/status
curl localhost:80/status

# access container
docker exec -it $name;format="normalize"$ bash
docker exec -it --user root $name;format="normalize"$ bash
```

Uber Jar
```
# package uber jar
sbt assembly

# run cli example
java -jar cli/target/scala-2.12/cli-latest.jar \
  -p MyName \
  --game Rock \
  -a 2

# run app example
HTTP_PORT=8080 \
LOG_LEVEL=INFO \
  java -jar app/target/scala-2.12/app-latest.jar
```
